{"version":3,"sources":["services/firebase.js","components/Header.js","components/Footer.js","pages/Home.js","helpers/db.js","pages/Chat.js","helpers/auth.js","pages/Signup.js","pages/Login.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","auth","db","database","dt","Header","props","user_id","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","currentUser","onClick","user","ref","child","set","onDisconnect","ServerValue","TIMESTAMP","signOut","delete","then","catch","error","console","log","Footer","HomePage","Component","updateUserConnection","on","snap","val","listenUsers","t","once","snapshot","key","state","listUser","forEach","logged","setState","Chat","_isMounted","conver_user","chats","content","readError","writeError","loadingChats","handleChange","bind","handleSubmit","checkEnter","myRef","React","createRef","e","a","keyCode","this","chatArea","current","data","timestamp","Date","now","from_uid","to_uid","push","scrollBy","scrollHeight","message","$","document","ready","click","toggle","users","s","u","mess","sort","b","converId","find","ur","length","converUser","filter","us","event","target","value","preventDefault","d","getDate","getMonth","getFullYear","getHours","getMinutes","role","renderElementLoading","placeholder","map","src","profile_picture","username","formatTime","last_online","toString","chat","index","onSubmit","onKeyUp","onChange","email","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","signInWithGitHub","GithubAuthProvider","SignUp","password","googleSignIn","githubSignIn","name","createUserWithEmailAndPassword","Login","signInWithEmailAndPassword","autoComplete","PrivateRoute","component","authenticated","rest","render","pathname","from","location","PublicRoute","App","loading","exact","path","Home","Signup","onAuthStateChanged","curent","photo","addUser","displayName","photoURL","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.174d9b35.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nconst config = {\r\n  apiKey: \"AIzaSyADdW9WsBiwihH4ToCdbLVBELIRBrKTBP8\",\r\n  authDomain: \"chatty-b51b5.firebaseapp.com\",\r\n  databaseURL: \"https://chatty-b51b5-default-rtdb.firebaseio.com/\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const auth = firebase.auth;\r\nexport const db = firebase.database();\r\nexport const dt = firebase.database;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { auth , db , dt } from '../services/firebase';\r\nfunction Header(props) {\r\n  let user_id = props.user_id;\r\n  function remove(){\r\n    var user = auth().currentUser;\r\n    user.delete().then(function() {\r\n    // User deleted.\r\n  }).catch(function(error) {\r\n    console.log(error);\r\n  });\r\n  }\r\n  return (\r\n    <header>\r\n      <nav className=\"navbar navbar-expand-sm fixed-top navbar-light bg-light\">\r\n        <Link className=\"navbar-brand\" to=\"/\">Chatty</Link>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse justify-content-end\" id=\"navbarNavAltMarkup\">\r\n          {auth().currentUser\r\n            ? <div className=\"navbar-nav\">\r\n              <Link className=\"nav-item nav-link mr-3\" to=\"/chat\">Profile</Link>\r\n              <button className=\"btn btn-primary mr-3\" onClick={() => {let user = db.ref('users').child(user_id);user.child('logged').set(false);user.child('last_online').onDisconnect().set(dt.ServerValue.TIMESTAMP);auth().signOut();}}>Logout</button>\r\n              <button className=\"btn btn-primary mr-3\" onClick={() => remove()}>Remove</button>\r\n            </div>\r\n            : <div className=\"navbar-nav\">\r\n              <Link className=\"nav-item nav-link mr-3\" to=\"/login\">Sign In</Link>\r\n              <Link className=\"nav-item nav-link mr-3\" to=\"/signup\">Sign Up</Link>\r\n            </div>}\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"pt-5\">\r\n      <div className=\"container text-center\">\r\n        <p>&copy; Chatty 2020.</p>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class HomePage extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"home\">\r\n        <Header></Header>\r\n        <section>\r\n          <div className=\"jumbotron jumbotron-fluid py-5\">\r\n            <div className=\"container text-center py-5\">\r\n              <h1 className=\"display-4\">Welcome to Chatty</h1>\r\n              <p className=\"lead\">A great place to share your thoughts with friends</p>\r\n              <div className=\"mt-4\">\r\n                <Link className=\"btn btn-primary px-5 mr-3\" to=\"/signup\">Create New Account</Link>\r\n                <Link className=\"btn px-5\" to=\"/login\">Login to Your Account</Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <Footer></Footer>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import { db , dt } from \"../services/firebase\";\r\n\r\nexport function readChats() {\r\n  let abc = [];\r\n  db.ref(\"chats\").on(\"value\", snapshot => {\r\n    snapshot.forEach(snap => {\r\n      abc.push(snap.val())\r\n    });\r\n    return abc;\r\n  });\r\n}\r\n\r\nexport function updateUserConnection(user_id){\r\n  let user = db.ref('users').child(user_id);\r\n  if(!user){\r\n    return;\r\n  }\r\n  db.ref('.info/connected').on('value', function (snap) {\r\n    if ( snap.val() === true ) {\r\n      user.child('logged').set(true);\r\n      user.child('logged').onDisconnect().set(false);\r\n      user.child('last_online').onDisconnect().set(dt.ServerValue.TIMESTAMP);\r\n    }\r\n});\r\n}\r\nexport function filterUserFrontEnd(arr,user_id) {\r\n  arr.forEach((a,index) =>{\r\n    if(a.user_id == user_id){\r\n      arr.splice(index, 1);\r\n    }\r\n  });\r\n  return arr;\r\n}\r\nexport function listenUsers(t){\r\n  db.ref(\"users\").once(\"child_changed\", snapshot => {\r\n    \r\n    let users = [];\r\n    let snap = snapshot.val();\r\n    let user_id = snapshot.key;\r\n    t.state.listUser.forEach(user => {\r\n      if(user.user_id == user_id){\r\n        user.logged = snap.logged;\r\n        listenUsers(t);\r\n      }\r\n    });\r\n    t.setState({listUser : t.state.listUser});\r\n  });\r\n  \r\n}\r\nexport function readUsers() {\r\n  db.ref(\"users\").once(\"value\", snapshot => {\r\n    let users = [];\r\n    let snap = snapshot.val();\r\n    for(var s in snap){\r\n      let u = snap[s];\r\n      u.user_id = s;\r\n      users.push(u);\r\n    }\r\n    return users;\r\n  });\r\n}\r\nexport function writeChats(message) {\r\n  return db.ref(\"chats\").push({\r\n    content: message.content,\r\n    timestamp: message.timestamp,\r\n    uid: message.uid\r\n  });\r\n}\r\n\r\nexport function addUser(email,name,photo) {\r\n  db.ref(\"users\").push({\r\n    username: name,\r\n    email: email,\r\n    profile_picture : photo,\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport { auth } from \"../services/firebase\";\r\nimport { db } from \"../services/firebase\";\r\nimport $ from 'jquery';\r\nimport { readUsers , addUser , filterUserFrontEnd , updateUserConnection , listenUsers } from '../helpers/db';\r\nexport default class Chat extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this._isMounted = false;\r\n    this.state = {\r\n      user: this.props.user,\r\n      conver_user : {},\r\n      chats: [],\r\n      listUser: [],\r\n      content: '',\r\n      readError: null,\r\n      writeError: null,\r\n      loadingChats: false\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.checkEnter = this.checkEnter.bind(this);\r\n    this.myRef = React.createRef();\r\n  }\r\n  async checkEnter(e) {\r\n    if (e.keyCode === 13) {\r\n      this.setState({ writeError: null });\r\n      const chatArea = this.myRef.current;\r\n      try {\r\n        let data = {\r\n          content: this.state.content,\r\n          timestamp: Date.now(),\r\n          from_uid: this.state.user.user_id,\r\n          to_uid : this.state.conver_user.user_id,\r\n        };\r\n        await db.ref(\"chats\").push(data);\r\n        this.state.chats.push(data);\r\n        this.setState({ content: '' });\r\n        chatArea.scrollBy(0, chatArea.scrollHeight);\r\n      } catch (error) {\r\n        this.setState({ writeError: error.message });\r\n      }\r\n    }\r\n  }\r\n  async componentWillUnmount() {\r\n    this._isMounted = false;\r\n }\r\n  async componentDidMount() {\r\n    this._isMounted = true;\r\n    $(document).ready(function(){\r\n      $('#action_menu_btn').click(function(){\r\n        $('.action_menu').toggle();\r\n      });\r\n\t  });\r\n    this.setState({ readError: null, loadingChats: true });\r\n    const chatArea = this.myRef.current;\r\n    updateUserConnection(this.props.user.user_id);\r\n    try {\r\n    \tdb.ref(\"users\").once(\"value\", snapshot => {\r\n\t\t    let users = [];\r\n\t\t    let snap = snapshot.val();\r\n\t\t    for(var s in snap){\r\n\t\t      \tlet u = snap[s];\r\n\t\t      \tu.user_id = s;\r\n\t\t     \tusers.push(u);\r\n\t\t\t}\r\n\t    \tdb.ref(\"chats\").once(\"value\", snapshot => {\r\n\t        let chats = [];\r\n\t        snapshot.forEach((snap) => {\r\n\t        \tlet mess = snap.val();\r\n\t        \tif(mess.from_uid == this.state.user.user_id || mess.to_uid == this.state.user.user_id){\r\n\t        \t\tchats.push(mess);\r\n\t        \t}\r\n\t        });\r\n\t        chats.sort(function (a, b) { return a.timestamp - b.timestamp });\r\n          let listUser = [];\r\n          chats.forEach( mess => {\r\n            if(mess.from_uid == this.state.user.user_id){\r\n              if(!listUser.find(e => e.user_id == mess.to_uid)){\r\n                let ur = users.find(u => u.user_id == mess.to_uid);\r\n                if(typeof ur != \"undefined\"){\r\n                  listUser.push(ur);\r\n                }\r\n              }\r\n            }\r\n            else{\r\n              if(!listUser.find(e => e.user_id == mess.from_uid)){\r\n                let ur = users.find(u => u.user_id == mess.from_uid);\r\n                if(typeof ur != \"undefined\"){\r\n                  listUser.push(ur);\r\n                }\r\n              }\r\n            }\r\n          })\r\n          this.setState({ listUser : listUser });\r\n\t        let converId;\r\n          if(chats.length){\r\n            if(chats[0].from_uid == this.state.user.user_id){\r\n              converId = chats[0].to_uid;\r\n            }\r\n            else{\r\n              converId = chats[0].from_uid;\r\n            }\r\n            let converUser =  users.filter(us => us.user_id == converId);\r\n            this.setState({ conver_user : converUser[0] });\r\n          }\r\n\t        this.setState({ chats : chats });\r\n\t        chatArea.scrollBy(0, chatArea.scrollHeight);\r\n\t        this.setState({ loadingChats: false });\r\n\t\t    });\r\n    \t});\r\n\t    \r\n    } catch (error) {\r\n      this.setState({ readError: error.message, loadingChats: false });\r\n    }\r\n    listenUsers(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      content: event.target.value\r\n    });\r\n  }\r\n\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n    this.setState({ writeError: null });\r\n    const chatArea = this.myRef.current;\r\n    try {\r\n      let data = {\r\n        content: this.state.content,\r\n        timestamp: Date.now(),\r\n        from_uid: this.state.user.user_id,\r\n        to_uid : this.state.conver_user.user_id,\r\n      };\r\n      await db.ref(\"chats\").push(data);\r\n      this.state.chats.push(data);\r\n      this.setState({ content: '' });\r\n      chatArea.scrollBy(0, chatArea.scrollHeight);\r\n    } catch (error) {\r\n      this.setState({ writeError: error.message });\r\n    }\r\n  }\r\n\r\n  formatTime(timestamp) {\r\n    const d = new Date(timestamp);\r\n    const time = `${d.getDate()}/${(d.getMonth()+1)}/${d.getFullYear()} ${d.getHours()}:${d.getMinutes()}`;\r\n    return time;\r\n  }\r\n  renderElementLoading(){\r\n     if(this.state.loadingChats){\r\n        return <div className=\"spinner-border text-success\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </div>\r\n     }\r\n     return null;\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header user_id={this.state.user.user_id} />\r\n        {this.renderElementLoading()}\r\n        <div className=\"container-fluid chat-page h-100\">\r\n        <div className=\"row justify-content-center h-100\">\r\n          <div className=\"col-md-4 col-xl-3 chat\"><div className=\"card mb-sm-3 mb-md-0 contacts_card\">\r\n              <div className=\"card-header\">\r\n                <div className=\"input-group\">\r\n                  <input type=\"text\" placeholder=\"Search...\" className=\"form-control search\" />\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text search_btn\"><i className=\"fas fa-search\" /></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-body contacts_body\">\r\n                <ul className=\"contacts\">\r\n                  {this.state.listUser.map(user => {\r\n                    return <li key={user.toString()}>\r\n                    <div className=\"d-flex bd-highlight\">\r\n                      <div className=\"img_cont\">\r\n                        <img src={user.profile_picture} className=\"rounded-circle user_img\" />\r\n                        <span className={\"online_icon \" + (user.logged ? '' : 'offline')} />\r\n                      </div>\r\n                      <div className=\"user_info\">\r\n                        <span>{user.username}</span>\r\n                        {\r\n                          user.logged ? \"\" : <p>{user.username} left {this.formatTime(user.last_online)} mins ago</p>\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                  })}\r\n                </ul>\r\n              </div>\r\n              <div className=\"card-footer\" />\r\n            </div></div>\r\n          <div className=\"col-md-8 col-xl-6 chat\" >\r\n            <div className=\"card\">\r\n              <div className=\"card-header msg_head\">\r\n                <div className=\"d-flex bd-highlight\">\r\n                  <div className=\"img_cont\">\r\n                    <img src={this.state.conver_user.profile_picture} className=\"rounded-circle user_img\" />\r\n                    <span className={\"online_icon\" + (this.state.conver_user.logged ? '' : 'offline')} />\r\n                  </div>\r\n                  <div className=\"user_info\">\r\n                    <span>{this.state.conver_user.username}</span>\r\n                  </div>\r\n                  <div className=\"video_cam\">\r\n                    <span><i className=\"fas fa-video\" /></span>\r\n                    <span><i className=\"fas fa-phone\" /></span>\r\n                  </div>\r\n                </div>\r\n                <span id=\"action_menu_btn\"><i className=\"fas fa-ellipsis-v\" /></span>\r\n                <div className=\"action_menu\">\r\n                  <ul>\r\n                    <li><i className=\"fas fa-user-circle\" /> View profile</li>\r\n                    <li><i className=\"fas fa-users\" /> Add to close friends</li>\r\n                    <li><i className=\"fas fa-plus\" /> Add to group</li>\r\n                    <li><i className=\"fas fa-ban\" /> Block</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-body msg_card_body\" ref={this.myRef}>\r\n              {this.state.chats.map((chat, index) => {\r\n                    return <div key={index} className={\"d-flex \" +(chat.from_uid == this.state.conver_user.user_id ? 'justify-content-start' : 'justify-content-end') + \" mb-4\"}>\r\n                    <div className=\"img_cont_msg\">\r\n                      <img src={chat.from_uid == this.state.conver_user.user_id ? this.state.conver_user.profile_picture : this.state.user.profile_picture} className=\"rounded-circle user_img_msg\" />\r\n                    </div>\r\n                    <div className=\"msg_cotainer\">\r\n                      {chat.content}\r\n                      <span className=\"msg_time\">{this.formatTime(chat.timestamp)}</span>\r\n                    </div>\r\n                  </div>\r\n                  })}\r\n              </div>\r\n              <div className=\"card-footer\">\r\n                <form onSubmit={this.handleSubmit}>\r\n                  <div className=\"input-group\">\r\n                    <div className=\"input-group-append\">\r\n                      <span className=\"input-group-text attach_btn\"><i className=\"fas fa-paperclip\" /></span>\r\n                    </div>\r\n                    <textarea onKeyUp={this.checkEnter} onChange={this.handleChange} value={this.state.content} className=\"form-control type_msg\" placeholder=\"Type your message...\"></textarea>\r\n                    <div className=\"input-group-append\">\r\n                      \r\n                      <button type=\"submit\"><span className=\"input-group-text send_btn\"><i className=\"fas fa-location-arrow\" /></span></button>\r\n                      \r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n        <div className=\"py-5 mx-3\">\r\n          Login in as: <strong className=\"text-info\">{this.state.user.email}</strong>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { auth } from \"../services/firebase\";\r\n\r\nexport function signup(email, password) {\r\n  return auth().createUserWithEmailAndPassword(email, password);\r\n}\r\n \r\nexport function signin(email, password) {\r\n\t// auth().signInWithEmailAndPassword(email, password)\r\n\t//   .then((userCredential) => {\r\n\t//     var user = userCredential.user;\r\n\t//     console.log(user);\r\n\t//   })\r\n\t//   .catch((error) => {\r\n\t//     var errorCode = error.code;\r\n\t//     var errorMessage = error.message;\r\n\t//     console.log(error);\r\n\t//   });\r\n  return auth().signInWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function signInWithGoogle() {\r\n  const provider = new auth.GoogleAuthProvider();\r\n  return auth().signInWithPopup(provider);\r\n}\r\n\r\nexport function signInWithGitHub() {\r\n  const provider = new auth.GithubAuthProvider();\r\n  return auth().signInWithPopup(provider);\r\n}\r\n\r\nexport function logout() {\r\n  return auth().signOut();\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { signup, signInWithGoogle, signInWithGitHub } from \"../helpers/auth\";\r\n\r\nexport default class SignUp extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      error: null,\r\n      email: '',\r\n      password: '',\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.googleSignIn = this.googleSignIn.bind(this);\r\n    this.githubSignIn = this.githubSignIn.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n    this.setState({ error: '' });\r\n    try {\r\n      let user = await signup(this.state.email, this.state.password);\r\n      console.log(user);\r\n    } catch (error) {\r\n      this.setState({ error: error.message });\r\n    }\r\n  }\r\n  async googleSignIn() {\r\n    try {\r\n      await signInWithGoogle();\r\n    } catch (error) {\r\n      this.setState({ error: error.message });\r\n    }\r\n  }\r\n\r\n  async githubSignIn() {\r\n    try {\r\n      await signInWithGitHub();\r\n    } catch (error) {\r\n      console.log(error)\r\n      this.setState({ error: error.message });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <form className=\"mt-5 py-5 px-5\" onSubmit={this.handleSubmit}>\r\n          <h1>\r\n            Sign Up to\r\n          <Link className=\"title ml-2\" to=\"/\">Chatty</Link>\r\n          </h1>\r\n          <p className=\"lead\">Fill in the form below to create an account.</p>\r\n          <div className=\"form-group\">\r\n            <input className=\"form-control\" placeholder=\"Email\" name=\"email\" type=\"email\" onChange={this.handleChange} value={this.state.email}></input>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input className=\"form-control\" placeholder=\"Password\" name=\"password\" onChange={this.handleChange} value={this.state.password} type=\"password\"></input>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            {this.state.error ? <p className=\"text-danger\">{this.state.error}</p> : null}\r\n            <button className=\"btn btn-primary px-5\" type=\"submit\">Sign up</button>\r\n          </div>\r\n          <p>You can also sign up with any of these services</p>\r\n          <button className=\"btn btn-danger mr-2\" type=\"button\" onClick={this.googleSignIn}>\r\n            Sign up with Google\r\n          </button>\r\n          <button className=\"btn btn-secondary\" type=\"button\" onClick={this.githubSignIn}>\r\n            Sign up with GitHub\r\n          </button>\r\n          <hr></hr>\r\n          <p>Already have an account? <Link to=\"/login\">Login</Link></p>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signin, signInWithGoogle, signInWithGitHub } from \"../helpers/auth\";\r\n\r\nexport default class Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      error: null,\r\n      email: \"\",\r\n      password: \"\"\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.googleSignIn = this.googleSignIn.bind(this);\r\n    this.githubSignIn = this.githubSignIn.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n    this.setState({ error: \"\" });\r\n    try {\r\n      await signin(this.state.email, this.state.password);\r\n    } catch (error) {\r\n      this.setState({ error: error.message });\r\n    }\r\n  }\r\n\r\n  async googleSignIn() {\r\n    try {\r\n      await signInWithGoogle();\r\n    } catch (error) {\r\n      this.setState({ error: error.message });\r\n    }\r\n  }\r\n\r\n  async githubSignIn() {\r\n    try {\r\n      await signInWithGitHub();\r\n    } catch (error) {\r\n      this.setState({ error: error.message });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <form\r\n          className=\"mt-5 py-5 px-5\"\r\n          autoComplete=\"off\"\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n          <h1>\r\n            Login to\r\n            <Link className=\"title ml-2\" to=\"/\">\r\n              Chatty\r\n            </Link>\r\n          </h1>\r\n          <p className=\"lead\">\r\n            Fill in the form below to login to your account.\r\n          </p>\r\n          <div className=\"form-group\">\r\n            <input\r\n              className=\"form-control\"\r\n              placeholder=\"Email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              onChange={this.handleChange}\r\n              value={this.state.email}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              className=\"form-control\"\r\n              placeholder=\"Password\"\r\n              name=\"password\"\r\n              onChange={this.handleChange}\r\n              value={this.state.password}\r\n              type=\"password\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            {this.state.error ? (\r\n              <p className=\"text-danger\">{this.state.error}</p>\r\n            ) : null}\r\n            <button className=\"btn btn-primary px-5\" type=\"submit\">Login</button>\r\n          </div>\r\n          <p>You can also log in with any of these services</p>\r\n          <button className=\"btn btn-danger mr-2\" type=\"button\" onClick={this.googleSignIn}>\r\n            Sign in with Google\r\n          </button>\r\n          <button className=\"btn btn-secondary\" type=\"button\" onClick={this.githubSignIn}>\r\n            Sign in with GitHub\r\n          </button>\r\n          <hr />\r\n          <p>\r\n            Don't have an account? <Link to=\"/signup\">Sign up</Link>\r\n          </p>\r\n        </form>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport { db } from \"./services/firebase\";\nimport {\n  Route,\n  BrowserRouter as Router,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\nimport Home from './pages/Home';\nimport Chat from './pages/Chat';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport { auth } from './services/firebase';\nimport { readUsers , addUser } from './helpers/db';\nimport './styles.css';\nfunction PrivateRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authenticated === true ? (\n          <Component user={rest.user} {...props} />\n        ) : (\n            <Redirect\n              to={{ pathname: \"/login\", state: { from: props.location } }}\n            />\n          )\n      }\n    />\n  )\n}\nfunction PublicRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => authenticated === false\n        ? <Component {...props} />\n        : <Redirect to='/chat' />}\n    />\n  )\n}\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      authenticated: false,\n      loading: true,\n    };\n  }\n  render() {\n    return this.state.loading === true ? <h2>Loading...</h2> : (\n      <Router>\n        <Switch>\n          <Route exact path=\"/\" component={Home}></Route>\n          <PrivateRoute path=\"/chat\" authenticated={this.state.authenticated} component={Chat} user = {this.state.user}></PrivateRoute>\n          <PublicRoute path=\"/signup\" authenticated={this.state.authenticated} component={Signup}></PublicRoute>\n          <PublicRoute path=\"/login\" authenticated={this.state.authenticated} component={Login}></PublicRoute>\n        </Switch>\n      </Router>\n    );\n  }\n  \n  componentDidMount() {\n  auth().onAuthStateChanged((user) => {\n    if (user) {\n      let email = user.email;\n      let users = [];\n    db.ref(\"users\").on(\"value\", snapshot => {\n      let snap = snapshot.val();\n      for(var s in snap){\n        let u = snap[s];\n        u.user_id = s;\n        users.push(u);\n      }\n      let curent = null;\n      users.forEach(u => {\n        if(u.email == email){\n          curent = u;\n        }\n      });\n      if(curent == null){\n        addUser(email,user.displayName,user.photoURL);\n      }\n      this.setState({\n        authenticated: true,\n        loading: false,\n        user : curent,\n      });\n    });\n    } else {\n      this.setState({\n        authenticated: false,\n        loading: false,\n      });\n    }\n  })\n}\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}